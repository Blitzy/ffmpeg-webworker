!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).ffmpegWebworker={})}(this,function(e){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function u(){importScripts("https://cdn.rawgit.com/bgrins/videoconverter.js/master/build/ffmpeg-all-codecs.js");var s=Date.now;function u(e){postMessage({type:"stdout",data:e})}onmessage=function(e){var t=e.data;if("command"===t.type){var n={print:u,printErr:u,files:t.files||[],arguments:t.arguments||[],TOTAL_MEMORY:t.TOTAL_MEMORY||!1};postMessage({type:"start",data:n.arguments.join(" ")}),postMessage({type:"stdout",data:"Received command: "+n.arguments.join(" ")+(n.TOTAL_MEMORY?".  Processing with "+n.TOTAL_MEMORY+" bits.":"")});var r=s(),i=ffmpeg_run(n),o=s()-r;postMessage({type:"stdout",data:"Finished processing (took "+o+"ms)"}),postMessage({type:"done",data:i,time:o})}},postMessage({type:"ready"})}var a,f,l,c=(function(e,t){var n;(n=t).default=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new Error("File content must export a function");var n=t.toString(),r=new Blob(["("+n+")()"],{type:"application/javascript"});return new Worker(URL.createObjectURL(r))},Object.defineProperty(n,"__esModule",{value:!0})}(a={exports:{}},a.exports),a.exports),p=(f=c)&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;function h(){}function d(){d.init.call(this)}function v(e){return void 0===e._maxListeners?d.defaultMaxListeners:e._maxListeners}function y(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=new h,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=v(e))&&0<i&&s.length>i){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(u)}}else s=o[t]=n,++e._eventsCount;return e}function m(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function w(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function g(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}h.prototype=Object.create(null),(d.EventEmitter=d).usingDomains=!1,d.prototype.domain=void 0,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.init=function(){this.domain=null,d.usingDomains&&l.active&&l.Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new h,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},d.prototype.getMaxListeners=function(){return v(this)},d.prototype.emit=function(e,t,n,r){var i,o,s,u,a,f,l,c="error"===e;if(f=this._events)c=c&&null==f.error;else if(!c)return!1;if(l=this.domain,c){if(i=t,l)return(i=i||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,i.domain=l,i.domainThrown=!1,l.emit("error",i),!1;if(i instanceof Error)throw i;var p=new Error('Uncaught, unspecified "error" event. ('+i+")");throw p.context=i,p}if(!(o=f[e]))return!1;var h="function"==typeof o;switch(s=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=g(e,r),o=0;o<r;++o)i[o].call(n)}(o,h,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=g(e,i),s=0;s<i;++s)o[s].call(n,r)}(o,h,this,t);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=g(e,o),u=0;u<o;++u)s[u].call(n,r,i)}(o,h,this,t,n);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,u=g(e,s),a=0;a<s;++a)u[a].call(n,r,i,o)}(o,h,this,t,n,r);break;default:for(u=new Array(s-1),a=1;a<s;a++)u[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=g(e,i),s=0;s<i;++s)o[s].apply(n,r)}(o,h,this,u)}return!0},d.prototype.on=d.prototype.addListener=function(e,t){return y(this,e,t,!1)},d.prototype.prependListener=function(e,t){return y(this,e,t,!0)},d.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,m(this,e,t)),this},d.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,m(this,e,t)),this},d.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new h:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;0<o--;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new h,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,s||t)}return this},d.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new h,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new h:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new h,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this},d.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},d.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):w.call(e,t)},d.prototype.listenerCount=w,d.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var b=function(){function e(){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(s(i=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}(this,o(e).call(this))),"_worker",{}),n(s(i),"_inputFile",{}),n(s(i),"workerIsReady",!1),n(s(i),"readFileAsBufferArray",function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(this.result)},n.onerror=function(){t(this.error)},n.readAsArrayBuffer(r)})}),n(s(i),"runCommand",function(r){if(console.log(r),"string"!=typeof r||!r.length)throw new Error("command should be string and not empty");i.convertInputFileToArrayBuffer().then(function(e){for(;!i.workerIsReady;);var t="video.webm",n="-i ".concat(t," ").concat(r);i.worker.postMessage({type:"command",arguments:n.split(" "),files:[{data:new Uint8Array(e),name:t}]})})}),n(s(i),"log",function(e){return Array.isArray(e)?console.log.call(null,e):console.log(e)}),n(s(i),"isVideo",function(e){var t=e.type;return e instanceof Blob&&(t.includes("video")||t.includes("audio"))}),i.initWebWorker(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(e,d),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"initWebWorker",value:function(){var n=this;this.worker=new p(u),console.log(this.worker),this.worker.onmessage=function(e){console.log(t);var t=e.data;"ready"==t.type?(n.emit("onReady","ffmpeg-asm.js file has been loaded."),n.workerIsReady=!0):"stdout"==t.type?n.emit("onStdout",t.data):"start"==t.type?(n.emit("onFileReceived","File Received"),log("file received ffmpeg command.")):"done"==t.type&&n.emit("onDone",t.data)}}},{key:"inputFileExists",value:function(){var e=this.inputFile;return!!(e&&e instanceof Blob&&e.size&&e.type)}},{key:"convertInputFileToArrayBuffer",value:function(){if(!this.inputFileExists())throw new Error("Input File has not been set");return this.readFileAsBufferArray(this.inputFile)}},{key:"worker",set:function(e){this._worker=e},get:function(){return this._worker}},{key:"inputFile",set:function(e){if(!this.isVideo(e))throw new Error("Input file is expected to be an audio or a video");this._inputFile=e},get:function(){return this._inputFile}}]),e}(),_=u,L=b,E={on:function(){},emit:function(){}},k=t||window;k&&k.Blob&&(E=new b);var O=E;e.FFMPEGWebworker=_,e.FFMPEGWebworkerClient=L,e.default=O,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtZ2xvYmFscy9zcmMvZ2xvYmFsLmpzIiwiLi4vc3JjL0ZGTVBFR1dlYldvcmtlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtYnVpbHRpbnMvc3JjL2VzNi9ldmVudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvd2Vid29ya2VyLWZpbGUvZGlzdC9pbmRleC5qcyIsIi4uL3NyYy9GRk1QRUdXZWJXb3JrZXJDbGllbnQuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7XG4iLCJjb25zdCB3b3JrZXJGaWxlID0gKCkgPT4ge1xuICBjb25zdCB3b3JrZXJQYXRoID1cbiAgICBcImh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYmdyaW5zL3ZpZGVvY29udmVydGVyLmpzL21hc3Rlci9idWlsZC9mZm1wZWctYWxsLWNvZGVjcy5qc1wiO1xuXG4gIGltcG9ydFNjcmlwdHMod29ya2VyUGF0aCk7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93O1xuICBmdW5jdGlvbiBwcmludCh0ZXh0KSB7XG4gICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiBcInN0ZG91dFwiLCBkYXRhOiB0ZXh0IH0pO1xuICB9XG4gIG9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJjb21tYW5kXCIpIHtcbiAgICAgIGNvbnN0IE1vZHVsZSA9IHtcbiAgICAgICAgcHJpbnQ6IHByaW50LFxuICAgICAgICBwcmludEVycjogcHJpbnQsXG4gICAgICAgIGZpbGVzOiBtZXNzYWdlLmZpbGVzIHx8IFtdLFxuICAgICAgICBhcmd1bWVudHM6IG1lc3NhZ2UuYXJndW1lbnRzIHx8IFtdLFxuICAgICAgICBUT1RBTF9NRU1PUlk6IG1lc3NhZ2UuVE9UQUxfTUVNT1JZIHx8IGZhbHNlXG4gICAgICB9O1xuICAgICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiBcInN0YXJ0XCIsIGRhdGE6IE1vZHVsZS5hcmd1bWVudHMuam9pbihcIiBcIikgfSk7XG4gICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwic3Rkb3V0XCIsXG4gICAgICAgIGRhdGE6XG4gICAgICAgICAgXCJSZWNlaXZlZCBjb21tYW5kOiBcIiArXG4gICAgICAgICAgTW9kdWxlLmFyZ3VtZW50cy5qb2luKFwiIFwiKSArXG4gICAgICAgICAgKE1vZHVsZS5UT1RBTF9NRU1PUllcbiAgICAgICAgICAgID8gXCIuICBQcm9jZXNzaW5nIHdpdGggXCIgKyBNb2R1bGUuVE9UQUxfTUVNT1JZICsgXCIgYml0cy5cIlxuICAgICAgICAgICAgOiBcIlwiKVxuICAgICAgfSk7XG4gICAgICBjb25zdCB0aW1lID0gbm93KCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBmZm1wZWdfcnVuKE1vZHVsZSk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBub3coKSAtIHRpbWU7XG4gICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwic3Rkb3V0XCIsXG4gICAgICAgIGRhdGE6IFwiRmluaXNoZWQgcHJvY2Vzc2luZyAodG9vayBcIiArIHRvdGFsVGltZSArIFwibXMpXCJcbiAgICAgIH0pO1xuICAgICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVcIiwgZGF0YTogcmVzdWx0LCB0aW1lOiB0b3RhbFRpbWUgfSk7XG4gICAgfVxuICB9O1xuICBwb3N0TWVzc2FnZSh7IHR5cGU6IFwicmVhZHlcIiB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdvcmtlckZpbGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkb21haW47XG5cbi8vIFRoaXMgY29uc3RydWN0b3IgaXMgdXNlZCB0byBzdG9yZSBldmVudCBoYW5kbGVycy4gSW5zdGFudGlhdGluZyB0aGlzIGlzXG4vLyBmYXN0ZXIgdGhhbiBleHBsaWNpdGx5IGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIHRvIGdldCBhIFwiY2xlYW5cIiBlbXB0eVxuLy8gb2JqZWN0ICh0ZXN0ZWQgd2l0aCB2OCB2NC45KS5cbmZ1bmN0aW9uIEV2ZW50SGFuZGxlcnMoKSB7fVxuRXZlbnRIYW5kbGVycy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5leHBvcnQgZGVmYXVsdCBFdmVudEVtaXR0ZXI7XG5leHBvcnQge0V2ZW50RW1pdHRlcn07XG5cbi8vIG5vZGVqcyBvZGRpdHlcbi8vIHJlcXVpcmUoJ2V2ZW50cycpID09PSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXJcblxuRXZlbnRFbWl0dGVyLnVzaW5nRG9tYWlucyA9IGZhbHNlO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmRvbWFpbiA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kb21haW4gPSBudWxsO1xuICBpZiAoRXZlbnRFbWl0dGVyLnVzaW5nRG9tYWlucykge1xuICAgIC8vIGlmIHRoZXJlIGlzIGFuIGFjdGl2ZSBkb21haW4sIHRoZW4gYXR0YWNoIHRvIGl0LlxuICAgIGlmIChkb21haW4uYWN0aXZlICYmICEodGhpcyBpbnN0YW5jZW9mIGRvbWFpbi5Eb21haW4pKSB7XG4gICAgICB0aGlzLmRvbWFpbiA9IGRvbWFpbi5hY3RpdmU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJuXCIgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uICRnZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuICRnZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG4vLyBUaGVzZSBzdGFuZGFsb25lIGVtaXQqIGZ1bmN0aW9ucyBhcmUgdXNlZCB0byBvcHRpbWl6ZSBjYWxsaW5nIG9mIGV2ZW50XG4vLyBoYW5kbGVycyBmb3IgZmFzdCBjYXNlcyBiZWNhdXNlIGVtaXQoKSBpdHNlbGYgb2Z0ZW4gaGFzIGEgdmFyaWFibGUgbnVtYmVyIG9mXG4vLyBhcmd1bWVudHMgYW5kIGNhbiBiZSBkZW9wdGltaXplZCBiZWNhdXNlIG9mIHRoYXQuIFRoZXNlIGZ1bmN0aW9ucyBhbHdheXMgaGF2ZVxuLy8gdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgdGh1cyBkbyBub3QgZ2V0IGRlb3B0aW1pemVkLCBzbyB0aGUgY29kZVxuLy8gaW5zaWRlIHRoZW0gY2FuIGV4ZWN1dGUgZmFzdGVyLlxuZnVuY3Rpb24gZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgc2VsZikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdE9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRNYW55KGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZ3MpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5hcHBseShzZWxmLCBhcmdzKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGV2ZW50cywgZG9tYWluO1xuICB2YXIgbmVlZERvbWFpbkV4aXQgPSBmYWxzZTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT0gbnVsbCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBkb21haW4gPSB0aGlzLmRvbWFpbjtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgaWYgKGRvbWFpbikge1xuICAgICAgaWYgKCFlcilcbiAgICAgICAgZXIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQnKTtcbiAgICAgIGVyLmRvbWFpbkVtaXR0ZXIgPSB0aGlzO1xuICAgICAgZXIuZG9tYWluID0gZG9tYWluO1xuICAgICAgZXIuZG9tYWluVGhyb3duID0gZmFsc2U7XG4gICAgICBkb21haW4uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgfSBlbHNlIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmICghaGFuZGxlcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGlzRm4gPSB0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJztcbiAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgc3dpdGNoIChsZW4pIHtcbiAgICAvLyBmYXN0IGNhc2VzXG4gICAgY2FzZSAxOlxuICAgICAgZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgdGhpcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDpcbiAgICAgIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIHNsb3dlclxuICAgIGRlZmF1bHQ6XG4gICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVtaXRNYW55KGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgaWYgKG5lZWREb21haW5FeGl0KVxuICAgIGRvbWFpbi5leGl0KCk7XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoIWV2ZW50cykge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKCFleGlzdGluZykge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICAgIGlmIChtICYmIG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0pIHtcbiAgICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgdHlwZSArICcgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgICAgZW1pdFdhcm5pbmcodyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGVtaXRXYXJuaW5nKGUpIHtcbiAgdHlwZW9mIGNvbnNvbGUud2FybiA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnNvbGUud2FybihlKSA6IGNvbnNvbGUubG9nKGUpO1xufVxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgZmlyZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHJldHVybiBnO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmICghbGlzdClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCAobGlzdC5saXN0ZW5lciAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGxpc3RbMF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cztcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoIWV2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGtleTsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBkbyB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfSB3aGlsZSAobGlzdGVuZXJzWzBdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICB2YXIgZXZsaXN0ZW5lcjtcbiAgdmFyIHJldDtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoIWV2ZW50cylcbiAgICByZXQgPSBbXTtcbiAgZWxzZSB7XG4gICAgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgICBpZiAoIWV2bGlzdGVuZXIpXG4gICAgICByZXQgPSBbXTtcbiAgICBlbHNlIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHJldCA9IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdO1xuICAgIGVsc2VcbiAgICAgIHJldCA9IHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdC5vd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKS5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpXG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBpKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/dChleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sdCk6dCgoZT1lfHxzZWxmKS53ZWJ3b3JrZXJGaWxlPXt9KX0odGhpcyxmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtlLmRlZmF1bHQ9ZnVuY3Rpb24gZSh0KXtpZihmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIGNvbnRlbnQgbXVzdCBleHBvcnQgYSBmdW5jdGlvblwiKTt2YXIgbj10LnRvU3RyaW5nKCksbz1uZXcgQmxvYihbXCIoXCIrbitcIikoKVwiXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIn0pO3JldHVybiBuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwobykpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lhVzVrWlhndWFuTWlMQ0p6YjNWeVkyVnpJanBiSWk0dUwzTnlZeTlwYm1SbGVDNXFjeUpkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKbGVIQnZjblFnWkdWbVlYVnNkQ0JqYkdGemN5QlhaV0pYYjNKclpYSWdlMXh1SUNCamIyNXpkSEoxWTNSdmNpaDNiM0pyWlhJcElIdGNiaUFnSUNCcFppQW9kSGx3Wlc5bUlIZHZjbXRsY2lBaFBUMGdYQ0ptZFc1amRHbHZibHdpS1NCN1hHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvWENKR2FXeGxJR052Ym5SbGJuUWdiWFZ6ZENCbGVIQnZjblFnWVNCbWRXNWpkR2x2Ymx3aUtUdGNiaUFnSUNCOVhHNGdJQ0FnWTI5dWMzUWdZMjlrWlNBOUlIZHZjbXRsY2k1MGIxTjBjbWx1WnlncE8xeHVJQ0FnSUdOdmJuTjBJR0pzYjJJZ1BTQnVaWGNnUW14dllpaGJYQ0lvWENJZ0t5QmpiMlJsSUNzZ1hDSXBLQ2xjSWwwc0lIdGNiaUFnSUNBZ0lIUjVjR1U2SUZ3aVlYQndiR2xqWVhScGIyNHZhbUYyWVhOamNtbHdkRndpWEc0Z0lDQWdmU2s3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJYYjNKclpYSW9WVkpNTG1OeVpXRjBaVTlpYW1WamRGVlNUQ2hpYkc5aUtTazdYRzRnSUgxY2JuMWNiaUpkTENKdVlXMWxjeUk2V3lKM2IzSnJaWElpTENKRmNuSnZjaUlzSW1OdlpHVWlMQ0owYjFOMGNtbHVaeUlzSW1Kc2IySWlMQ0pDYkc5aUlpd2lkSGx3WlNJc0lsZHZjbXRsY2lJc0lsVlNUQ0lzSW1OeVpXRjBaVTlpYW1WamRGVlNUQ0pkTENKdFlYQndhVzVuY3lJNkltOU9RVU5GTEZkQlFWbEJMREpIUVVOWkxHMUNRVUZZUVN4UlFVTklMRWxCUVVsRExFMUJRVTBzTWtOQlJWcERMRVZCUVU5R0xFVkJRVTlITEZkQlEyUkRMRVZCUVU4c1NVRkJTVU1zUzBGQlN5eERRVUZETEVsQlFVMUlMRVZCUVU4c1QwRkJVU3hEUVVNeFEwa3NTMEZCVFN4clEwRkZSQ3hKUVVGSlF5eFBRVUZQUXl4SlFVRkpReXhuUWtGQlowSk1JbjA9XG4iLCJpbXBvcnQgV29ya2VyRmlsZSBmcm9tIFwid2Vid29ya2VyLWZpbGVcIjtcbmltcG9ydCB3b3JrZXJGaWxlIGZyb20gXCIuL0ZGTVBFR1dlYldvcmtlclwiO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGRk1QRUdXZWJ3b3JrZXJDbGllbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQHR5cGUge1dvcmtlcn1cbiAgICovXG4gIF93b3JrZXIgPSB7fTtcbiAgLyoqXG4gICAqIEB0eXBlIHtCbG9ifVxuICAgKi9cbiAgX2lucHV0RmlsZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHdvcmtlcklzUmVhZHkgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXRXZWJXb3JrZXIoKTtcbiAgfVxuXG4gIGluaXRXZWJXb3JrZXIoKSB7XG4gICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyRmlsZSh3b3JrZXJGaWxlKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLndvcmtlcik7XG4gICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gZXZlbnQgPT4ge1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICBsZXQgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgICBpZiAobWVzc2FnZS50eXBlID09IFwicmVhZHlcIikge1xuICAgICAgICB0aGlzLmVtaXQoXCJvblJlYWR5XCIsIFwiZmZtcGVnLWFzbS5qcyBmaWxlIGhhcyBiZWVuIGxvYWRlZC5cIik7XG4gICAgICAgIHRoaXMud29ya2VySXNSZWFkeSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PSBcInN0ZG91dFwiKSB7XG4gICAgICAgIHRoaXMuZW1pdChcIm9uU3Rkb3V0XCIsIG1lc3NhZ2UuZGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwib25GaWxlUmVjZWl2ZWRcIiwgXCJGaWxlIFJlY2VpdmVkXCIpO1xuICAgICAgICBsb2coXCJmaWxlIHJlY2VpdmVkIGZmbXBlZyBjb21tYW5kLlwiKTtcbiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09IFwiZG9uZVwiKSB7XG4gICAgICAgIHRoaXMuZW1pdChcIm9uRG9uZVwiLCBtZXNzYWdlLmRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzZXQgd29ya2VyKHdvcmtlcikge1xuICAgIHRoaXMuX3dvcmtlciA9IHdvcmtlcjtcbiAgfVxuICBnZXQgd29ya2VyKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JrZXI7XG4gIH1cblxuICBzZXQgaW5wdXRGaWxlKGlucHV0RmlsZSkge1xuICAgIGlmICghdGhpcy5pc1ZpZGVvKGlucHV0RmlsZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGZpbGUgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXVkaW8gb3IgYSB2aWRlb1wiKTtcbiAgICB9XG4gICAgdGhpcy5faW5wdXRGaWxlID0gaW5wdXRGaWxlO1xuICB9XG4gIGdldCBpbnB1dEZpbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RmlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1c2Ugd29ya2VyIHRvIGVuY29kZSBhdWRpb1xuICAgKiBAcGFyYW0ge0Jsb2J9IGZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICByZWFkRmlsZUFzQnVmZmVyQXJyYXkgPSBmaWxlID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3VsdCk7XG4gICAgICB9O1xuICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLmVycm9yKTtcbiAgICAgIH07XG4gICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlucHV0RmlsZUV4aXN0cygpIHtcbiAgICBjb25zdCBpbnB1dEZpbGUgPSB0aGlzLmlucHV0RmlsZTtcbiAgICByZXR1cm4gISEoXG4gICAgICBpbnB1dEZpbGUgJiZcbiAgICAgIGlucHV0RmlsZSBpbnN0YW5jZW9mIEJsb2IgJiZcbiAgICAgIGlucHV0RmlsZS5zaXplICYmXG4gICAgICBpbnB1dEZpbGUudHlwZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogdXNlIHdvcmtlciB0byBlbmNvZGUgYXVkaW9cbiAgICogQHBhcmFtIHtCbG9ifSBpbnB1dEZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBjb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlcigpIHtcbiAgICBpZiAoIXRoaXMuaW5wdXRGaWxlRXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IEZpbGUgaGFzIG5vdCBiZWVuIHNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVhZEZpbGVBc0J1ZmZlckFycmF5KHRoaXMuaW5wdXRGaWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZFxuICAgKi9cbiAgcnVuQ29tbWFuZCA9IGNvbW1hbmQgPT4ge1xuICAgIGNvbnNvbGUubG9nKGNvbW1hbmQpO1xuICAgIGlmICh0eXBlb2YgY29tbWFuZCAhPT0gXCJzdHJpbmdcIiB8fCAhY29tbWFuZC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbW1hbmQgc2hvdWxkIGJlIHN0cmluZyBhbmQgbm90IGVtcHR5XCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnZlcnRJbnB1dEZpbGVUb0FycmF5QnVmZmVyKCkudGhlbihhcnJheUJ1ZmZlciA9PiB7XG4gICAgICB3aGlsZSAoIXRoaXMud29ya2VySXNSZWFkeSkge31cbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gXCJ2aWRlby53ZWJtXCI7XG4gICAgICBjb25zdCBpbnB1dENvbW1hbmQgPSBgLWkgJHtmaWxlbmFtZX0gJHtjb21tYW5kfWA7XG4gICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiY29tbWFuZFwiLFxuICAgICAgICBhcmd1bWVudHM6IGlucHV0Q29tbWFuZC5zcGxpdChcIiBcIiksXG4gICAgICAgIGZpbGVzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpLFxuICAgICAgICAgICAgbmFtZTogZmlsZW5hbWVcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZyB8IEFycmF5PFN0cmluZz59IG1lc3NhZ2VcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGxvZyA9IG1lc3NhZ2UgPT5cbiAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UpXG4gICAgICA/IGNvbnNvbGUubG9nLmNhbGwobnVsbCwgbWVzc2FnZSlcbiAgICAgIDogY29uc29sZS5sb2cobWVzc2FnZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QmxvYn0gZmlsZVxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgaXNWaWRlbyA9IGZpbGUgPT4ge1xuICAgIGNvbnN0IGZpbGVUeXBlID0gZmlsZS50eXBlO1xuICAgIHJldHVybiAoXG4gICAgICBmaWxlIGluc3RhbmNlb2YgQmxvYiAmJlxuICAgICAgKGZpbGVUeXBlLmluY2x1ZGVzKFwidmlkZW9cIikgfHwgZmlsZVR5cGUuaW5jbHVkZXMoXCJhdWRpb1wiKSlcbiAgICApO1xuICB9O1xufVxuIiwiaW1wb3J0IFdlYndvcmtlckNsaWVudCBmcm9tIFwiLi9GRk1QRUdXZWJXb3JrZXJDbGllbnRcIjtcbmltcG9ydCBXZWJ3b3JrZXIgZnJvbSBcIi4vRkZNUEVHV2ViV29ya2VyXCI7XG5cbmV4cG9ydCBjb25zdCBGRk1QRUdXZWJ3b3JrZXIgPSBXZWJ3b3JrZXI7XG5leHBvcnQgY29uc3QgRkZNUEVHV2Vid29ya2VyQ2xpZW50ID0gV2Vid29ya2VyQ2xpZW50O1xubGV0IHdvcmtlckNsaWVudCA9IHsgb24oKSB7fSwgZW1pdCgpIHt9IH07XG5jb25zdCBfd2luZG93ID0gZ2xvYmFsIHx8IHdpbmRvdztcbmlmIChfd2luZG93ICYmIF93aW5kb3cuQmxvYikge1xuICB3b3JrZXJDbGllbnQgPSBuZXcgV2Vid29ya2VyQ2xpZW50KCk7XG59XG5leHBvcnQgZGVmYXVsdCB3b3JrZXJDbGllbnQ7XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwic2VsZiIsIndpbmRvdyIsIndvcmtlckZpbGUiLCJpbXBvcnRTY3JpcHRzIiwibm93IiwiRGF0ZSIsInByaW50IiwidGV4dCIsInBvc3RNZXNzYWdlIiwidHlwZSIsImRhdGEiLCJvbm1lc3NhZ2UiLCJldmVudCIsIm1lc3NhZ2UiLCJNb2R1bGUiLCJwcmludEVyciIsImZpbGVzIiwiYXJndW1lbnRzIiwiVE9UQUxfTUVNT1JZIiwiam9pbiIsInRpbWUiLCJyZXN1bHQiLCJmZm1wZWdfcnVuIiwidG90YWxUaW1lIiwiZG9tYWluIiwiZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwidCIsIlR5cGVFcnJvciIsInRoaXMiLCJFcnJvciIsIm4iLCJ0b1N0cmluZyIsIm8iLCJCbG9iIiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkV2ZW50SGFuZGxlcnMiLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwiY2FsbCIsIiRnZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwidW5kZWZpbmVkIiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJfYWRkTGlzdGVuZXIiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsInByZXBlbmQiLCJtIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJfZXZlbnRzIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwiX2V2ZW50c0NvdW50IiwidW5zaGlmdCIsInB1c2giLCJ3YXJuZWQiLCJsZW5ndGgiLCJ3IiwibmFtZSIsImVtaXR0ZXIiLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiZW1pdFdhcm5pbmciLCJfb25jZVdyYXAiLCJmaXJlZCIsImciLCJyZW1vdmVMaXN0ZW5lciIsImFwcGx5IiwibGlzdGVuZXJDb3VudCIsImV2bGlzdGVuZXIiLCJhcnJheUNsb25lIiwiYXJyIiwiaSIsImNvcHkiLCJBcnJheSIsInByb3RvdHlwZSIsImNyZWF0ZSIsInVzaW5nRG9tYWlucyIsImFjdGl2ZSIsIkRvbWFpbiIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiaXNOYU4iLCJnZXRNYXhMaXN0ZW5lcnMiLCJlciIsImhhbmRsZXIiLCJsZW4iLCJhcmdzIiwiZG9FcnJvciIsImVycm9yIiwiZG9tYWluRW1pdHRlciIsImRvbWFpblRocm93biIsImVyciIsImNvbnRleHQiLCJpc0ZuIiwibGlzdGVuZXJzIiwiZW1pdE5vbmUiLCJhcmcxIiwiZW1pdE9uZSIsImFyZzIiLCJlbWl0VHdvIiwiYXJnMyIsImVtaXRUaHJlZSIsImVtaXRNYW55Iiwib24iLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsIm9uY2UiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsImluZGV4IiwiayIsInBvcCIsInNwbGljZU9uZSIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleSIsImtleXMiLCJyZXQiLCJ1bndyYXBMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiUmVmbGVjdCIsIm93bktleXMiLCJGRk1QRUdXZWJ3b3JrZXJDbGllbnQiLCJmaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImNvbW1hbmQiLCJjb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlciIsInRoZW4iLCJhcnJheUJ1ZmZlciIsIl90aGlzIiwid29ya2VySXNSZWFkeSIsImZpbGVuYW1lIiwiaW5wdXRDb21tYW5kIiwid29ya2VyIiwic3BsaXQiLCJVaW50OEFycmF5IiwiaXNBcnJheSIsImZpbGVUeXBlIiwiaW5jbHVkZXMiLCJpbml0V2ViV29ya2VyIiwiV29ya2VyRmlsZSIsIl90aGlzMiIsImlucHV0RmlsZSIsInNpemUiLCJpbnB1dEZpbGVFeGlzdHMiLCJyZWFkRmlsZUFzQnVmZmVyQXJyYXkiLCJfd29ya2VyIiwiaXNWaWRlbyIsIl9pbnB1dEZpbGUiLCJGRk1QRUdXZWJ3b3JrZXIiLCJXZWJ3b3JrZXIiLCJXZWJ3b3JrZXJDbGllbnQiLCJ3b3JrZXJDbGllbnQiLCJfd2luZG93Il0sIm1hcHBpbmdzIjoia05BQWtDLG9CQUFYQSxPQUF5QkEsT0FDcEIsb0JBQVRDLEtBQXVCQSxLQUNaLG9CQUFYQyxPQUF5QkEsT0FBUyxzd0JDRmxDLFNBQWJDLElBSUpDLGNBRkUseUZBR0lDLEVBQU1DLEtBQUtELGFBQ1JFLEVBQU1DLEdBQ2JDLFlBQVksQ0FBRUMsS0FBTSxTQUFVQyxLQUFNSCxJQUV0Q0ksVUFBWSxTQUFTQyxPQUNiQyxFQUFVRCxFQUFNRixRQUNELFlBQWpCRyxFQUFRSixLQUFvQixLQUN4QkssRUFBUyxDQUNiUixNQUFPQSxFQUNQUyxTQUFVVCxFQUNWVSxNQUFPSCxFQUFRRyxPQUFTLEdBQ3hCQyxVQUFXSixFQUFRSSxXQUFhLEdBQ2hDQyxhQUFjTCxFQUFRSyxlQUFnQixHQUV4Q1YsWUFBWSxDQUFFQyxLQUFNLFFBQVNDLEtBQU1JLEVBQU9HLFVBQVVFLEtBQUssT0FDekRYLFlB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
